<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grover's Quantum Search Adventure! üîç‚ú®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            padding: 40px 20px;
            color: #2d3748;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 16px;
            padding: 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            padding: 50px 40px;
            color: white;
        }
        
        h1 {
            text-align: center;
            color: white;
            font-size: 3em;
            margin-bottom: 15px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            text-align: center;
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.3em;
            margin-bottom: 0;
            font-weight: 400;
        }
        
        .content-wrapper {
            padding: 40px;
        }
        
        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 0;
            background: #f8fafc;
            padding: 0 40px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .tab {
            padding: 20px 30px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
            color: #64748b;
            border-bottom: 3px solid transparent;
            position: relative;
        }
        
        .tab:hover {
            color: #4f46e5;
            background: rgba(79, 70, 229, 0.05);
        }
        
        .tab.active {
            color: #4f46e5;
            background: transparent;
            border-bottom-color: #4f46e5;
        }
        
        .content {
            display: none;
        }
        
        .content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .story-box {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            font-size: 1.05em;
            line-height: 1.8;
            border-left: 4px solid #7c3aed;
        }
        
        .story-box h2 {
            color: #6d28d9;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .comparison-box {
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .classical {
            background: linear-gradient(135deg, #fff5f5 0%, #fee2e2 100%);
            border: 2px solid #fca5a5;
        }
        
        .classical h3 {
            color: #dc2626;
        }
        
        .quantum {
            background: linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%);
            border: 2px solid #60a5fa;
        }
        
        .quantum h3 {
            color: #2563eb;
        }
        
        .comparison-box h3 {
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        .comparison-box p {
            margin: 10px 0;
            font-size: 1.05em;
        }
        
        .search-demo {
            margin: 30px 0;
        }
        
        .boxes-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .box {
            width: 90px;
            height: 90px;
            border: 2px solid #cbd5e1;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2em;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8fafc;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        
        .box:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.12);
            border-color: #94a3b8;
        }
        
        .box.checking {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-color: #fbbf24;
            animation: pulse 0.5s;
            box-shadow: 0 4px 16px rgba(251, 191, 36, 0.3);
        }
        
        .box.found {
            background: linear-gradient(135deg, #86efac 0%, #4ade80 100%);
            color: white;
            border-color: #22c55e;
            animation: celebrate 0.6s;
            box-shadow: 0 8px 24px rgba(34, 197, 94, 0.4);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }
        
        @keyframes celebrate {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-15deg); }
            75% { transform: rotate(15deg); }
        }
        
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        
        button {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 70, 229, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .stats {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        
        .stat-item {
            display: inline-block;
            margin: 0 30px;
            font-size: 1em;
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: 700;
            color: #4f46e5;
            margin-bottom: 5px;
        }
        
        .explanation {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            border-left: 4px solid #22c55e;
        }
        
        .explanation h3 {
            color: #15803d;
            margin-bottom: 20px;
            font-size: 1.4em;
        }
        
        .explanation table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        
        .explanation th {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
            padding: 15px;
            font-weight: 600;
        }
        
        .explanation td {
            padding: 15px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .wave-animation {
            height: 200px;
            position: relative;
            overflow: hidden;
            background: #f5f5f5;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .wave {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .amplitude-bar {
            display: inline-block;
            width: 70px;
            margin: 0 6px;
            background: linear-gradient(to top, #4f46e5, #7c3aed);
            border-radius: 6px 6px 0 0;
            transition: height 0.5s ease;
            position: relative;
            box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
        }
        
        .amplitude-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            height: 200px;
            margin: 25px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }
        
        .quiz-option {
            background: white;
            padding: 18px 24px;
            margin: 12px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #e2e8f0;
            font-size: 1.05em;
        }
        
        .quiz-option:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
            transform: translateX(8px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .quiz-option.correct {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-color: #22c55e;
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
        }
        
        .quiz-option.incorrect {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border-color: #ef4444;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
        }
        
        .fun-fact {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 24px 30px;
            border-radius: 12px;
            margin: 30px 0;
            font-size: 1.05em;
            border-left: 4px solid #f59e0b;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.1);
        }
        
        .fun-fact strong {
            color: #d97706;
        }
        
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            gap: 15px;
        }
        
        .step {
            flex: 1;
            padding: 16px 20px;
            background: white;
            margin: 0;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid #e2e8f0;
            font-weight: 500;
        }
        
        .step.active {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            transform: scale(1.05);
            border-color: #4f46e5;
            box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Grover's Quantum Search Algorithm</h1>
            <div class="subtitle">Discover how quantum computers search faster than classical computers</div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('intro')">Introduction</button>
            <button class="tab" onclick="showTab('comparison')">Comparison</button>
            <button class="tab" onclick="showTab('demo')">Interactive Demo</button>
            <button class="tab" onclick="showTab('how')">How It Works</button>
            <button class="tab" onclick="showTab('quiz')">Knowledge Check</button>
        </div>
        
        <div class="content-wrapper">
        <div id="intro" class="content active">
            <div class="story-box">
                <h2>Understanding Grover's Algorithm</h2>
                <p>Imagine searching through a database with 1,000 entries to find one specific record. A classical computer would need to check entries one by one, examining an average of 500 entries before finding the target.</p>
                <br>
                <p><strong>Classical Search:</strong> Linear search through N items requires O(N) operations on average, checking approximately N/2 entries.</p>
                <br>
                <p><strong>Grover's Algorithm:</strong> Leverages quantum superposition and amplitude amplification to search in O(‚àöN) operations, requiring only about 32 iterations for 1,000 items.</p>
                <br>
                <p>This represents a <strong>quadratic speedup</strong> ‚Äî as databases grow larger, the advantage becomes increasingly significant.</p>
            </div>
            
            <div class="fun-fact">
                <strong>Historical Context:</strong> Grover's algorithm was developed by Lov Grover at Bell Labs in 1996. It remains one of the most important quantum algorithms for database searching and has applications in cryptanalysis, optimization, and machine learning.
            </div>
            
            <div style="text-align: center; margin: 40px 0;">
                <h3 style="margin-bottom: 20px; color: #1f2937; font-size: 1.6em;">Computational Complexity Analysis</h3>
                <p style="font-size: 1.05em; line-height: 1.9; margin: 20px; color: #4b5563;">
                    For an unsorted database with N elements, classical algorithms require O(N) queries in the worst case.<br>
                    Grover's algorithm achieves the same task with O(‚àöN) queries, which is provably optimal for quantum algorithms.<br>
                    <strong>Example:</strong> Searching 1,000,000 records requires approximately 500,000 classical queries versus 1,000 quantum queries.
                </p>
            </div>
        </div>
        
        <div id="comparison" class="content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1f2937; font-size: 1.8em;">Classical vs Quantum Search Comparison</h2>
            
            <div class="comparison">
                <div class="comparison-box classical">
                    <h3>Classical Linear Search</h3>
                    <p style="margin: 15px 0;">Sequential item-by-item checking</p>
                    <div style="font-size: 3em; margin: 25px 0;">üìä‚Üíüìä‚Üíüìä</div>
                    <p><strong>Time Complexity:</strong> O(N)</p>
                    <p style="margin-top: 10px;">Requires checking half the database on average</p>
                </div>
                
                <div class="comparison-box quantum">
                    <h3>Grover's Quantum Search</h3>
                    <p style="margin: 15px 0;">Parallel quantum superposition</p>
                    <div style="font-size: 3em; margin: 25px 0;">‚öõÔ∏è‚ú®‚öõÔ∏è</div>
                    <p><strong>Time Complexity:</strong> O(‚àöN)</p>
                    <p style="margin-top: 10px;">Quadratic speedup through amplitude amplification</p>
                </div>
            </div>
            
            <div class="explanation">
                <h3>Performance Metrics</h3>
                <table style="width: 100%; margin: 15px 0; text-align: center;">
                    <tr>
                        <th style="padding: 10px;">Database Size (N)</th>
                        <th style="padding: 10px;">Classical Queries</th>
                        <th style="padding: 10px;">Grover's Queries</th>
                        <th style="padding: 10px;">Speedup Factor</th>
                    </tr>
                    <tr style="background: #f9f9f9;">
                        <td style="padding: 10px;">100</td>
                        <td style="padding: 10px;">~50</td>
                        <td style="padding: 10px;">~10</td>
                        <td style="padding: 10px; font-weight: 600; color: #22c55e;">5√ó</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">10,000</td>
                        <td style="padding: 10px;">~5,000</td>
                        <td style="padding: 10px;">~100</td>
                        <td style="padding: 10px; font-weight: 600; color: #22c55e;">50√ó</td>
                    </tr>
                    <tr style="background: #f9f9f9;">
                        <td style="padding: 10px;">1,000,000</td>
                        <td style="padding: 10px;">~500,000</td>
                        <td style="padding: 10px;">~1,000</td>
                        <td style="padding: 10px; font-weight: 600; color: #22c55e;">500√ó</td>
                    </tr>
                </table>
            </div>
        </div>
        
        <div id="demo" class="content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1f2937; font-size: 1.8em;">Interactive Search Demonstration</h2>
            
            <div class="search-demo">
                <p style="text-align: center; font-size: 1.1em; margin-bottom: 30px; color: #4b5563;">
                    One database entry contains the target value. Compare search algorithms to see the performance difference.
                </p>
                
                <div class="controls">
                    <button onclick="startClassicalSearch()" id="classicalBtn">Classical Search</button>
                    <button onclick="startGroverSearch()" id="groverBtn">Grover's Algorithm</button>
                    <button onclick="resetDemo()" style="background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);">Reset</button>
                </div>
                
                <div id="boxesContainer" class="boxes-container">
                    <!-- Boxes will be generated by JavaScript -->
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number" id="checks">0</div>
                        <div>Query Operations</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="status">Ready</div>
                        <div>Status</div>
                    </div>
                </div>
                
                <div class="step-indicator" id="stepIndicator">
                    <!-- Steps will be added by JavaScript -->
                </div>
            </div>
        </div>
        
        <div id="how" class="content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1f2937; font-size: 1.8em;">Algorithm Mechanics</h2>
            
            <div class="story-box">
                <h2>Three-Phase Process</h2>
                <p>Grover's algorithm operates through a carefully orchestrated sequence of quantum operations that amplify the probability amplitude of the target state while suppressing all others.</p>
            </div>
            
            <div style="margin: 30px 0;">
                <div style="background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #3b82f6;">
                    <h3 style="color: #1e40af; margin-bottom: 15px; font-size: 1.3em;">Phase 1: Superposition Initialization</h3>
                    <p style="margin: 12px 0; font-size: 1.05em; line-height: 1.7;">Apply the Hadamard transform to create an equal superposition of all possible states. This places the system in a state where all database entries have equal probability amplitude.</p>
                    <div class="amplitude-container" id="step1Viz">
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                    </div>
                    <p style="text-align: center; font-style: italic; color: #64748b; margin-top: 15px;">Uniform probability distribution across all states</p>
                </div>
                
                <div style="background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%); padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #f59e0b;">
                    <h3 style="color: #b45309; margin-bottom: 15px; font-size: 1.3em;">Phase 2: Oracle Marking</h3>
                    <p style="margin: 12px 0; font-size: 1.05em; line-height: 1.7;">The oracle operator performs a phase flip on the target state, inverting its amplitude sign. This quantum operation marks the solution without directly revealing it.</p>
                    <div class="amplitude-container" id="step2Viz">
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 150px; background: linear-gradient(to top, #f59e0b, #d97706);"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                        <div class="amplitude-bar" style="height: 50px;"></div>
                    </div>
                    <p style="text-align: center; font-style: italic; color: #64748b; margin-top: 15px;">Target state receives phase inversion</p>
                </div>
                
                <div style="background: linear-gradient(135deg, #f0fdf4 0%, #bbf7d0 100%); padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #22c55e;">
                    <h3 style="color: #15803d; margin-bottom: 15px; font-size: 1.3em;">Phase 3: Amplitude Amplification</h3>
                    <p style="margin: 12px 0; font-size: 1.05em; line-height: 1.7;">The diffusion operator reflects all amplitudes about their mean, amplifying the marked state while suppressing unmarked states. Repeating phases 2-3 approximately œÄ‚àöN/4 times maximizes the target probability.</p>
                    <div class="amplitude-container" id="step3Viz">
                        <div class="amplitude-bar" style="height: 20px;"></div>
                        <div class="amplitude-bar" style="height: 20px;"></div>
                        <div class="amplitude-bar" style="height: 20px;"></div>
                        <div class="amplitude-bar" style="height: 180px; background: linear-gradient(to top, #22c55e, #16a34a);"></div>
                        <div class="amplitude-bar" style="height: 20px;"></div>
                        <div class="amplitude-bar" style="height: 20px;"></div>
                        <div class="amplitude-bar" style="height: 20px;"></div>
                        <div class="amplitude-bar" style="height: 20px;"></div>
                    </div>
                    <p style="text-align: center; font-style: italic; color: #64748b; margin-top: 15px;">Target state probability approaches unity</p>
                </div>
            </div>
            
            <div class="fun-fact">
                <strong>Mathematical Insight:</strong> The optimal number of Grover iterations is ‚åäœÄ‚àöN/4‚åã. This precise value maximizes measurement success probability. Too few iterations leave significant amplitude in non-target states; too many cause the amplitude to "overshoot" and decrease.
            </div>
        </div>
        
        <div id="quiz" class="content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1f2937; font-size: 1.8em;">Knowledge Assessment</h2>
            
            <div style="margin: 30px 0;">
                <h3 style="color: #1f2937; margin-bottom: 15px;">Question 1: What problem does Grover's algorithm solve?</h3>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    A) Factoring large integers into prime components
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, true)">
                    B) Searching unsorted databases with quadratic speedup
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    C) Simulating quantum systems efficiently
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    D) Encrypting data using quantum key distribution
                </div>
            </div>
            
            <div style="margin: 30px 0;">
                <h3 style="color: #1f2937; margin-bottom: 15px;">Question 2: For a database with 100 entries, approximately how many queries does Grover's algorithm require?</h3>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    A) 50 queries (same as classical average)
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, true)">
                    B) ~10 queries (‚àö100 = 10)
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    C) 100 queries (same as classical worst-case)
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    D) 1 query (constant time)
                </div>
            </div>
            
            <div style="margin: 30px 0;">
                <h3 style="color: #1f2937; margin-bottom: 15px;">Question 3: What quantum mechanical principle enables Grover's speedup?</h3>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    A) Quantum entanglement between database entries
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, true)">
                    B) Superposition combined with amplitude amplification
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    C) Quantum tunneling through computational barriers
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    D) Wave function collapse upon measurement
                </div>
            </div>
            
            <div style="margin: 30px 0;">
                <h3 style="color: #1f2937; margin-bottom: 15px;">Question 4: The computational complexity improvement of Grover's algorithm is...</h3>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    A) Exponential speedup O(log N)
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, true)">
                    B) Quadratic speedup O(‚àöN)
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    C) Polynomial speedup O(N¬≤)
                </div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">
                    D) Constant time O(1)
                </div>
            </div>
            
            <div class="fun-fact">
                <strong>Continued Learning:</strong> Grover's algorithm represents one of the foundational quantum algorithms with proven advantages over classical computation. Its applications extend beyond database search to optimization problems, cryptanalysis, and quantum machine learning. Understanding this algorithm provides insight into the fundamental principles of quantum computing.
            </div>
        </div>
        </div>
    </div>
    
    <script>
        const NUM_BOXES = 16;
        let treasureBox = 0;
        let isSearching = false;
        
        function showTab(tabName) {
            // Hide all contents
            const contents = document.querySelectorAll('.content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected content
            document.getElementById(tabName).classList.add('active');
            
            // Add active to clicked tab
            event.target.classList.add('active');
        }
        
        function initializeBoxes() {
            const container = document.getElementById('boxesContainer');
            container.innerHTML = '';
            treasureBox = Math.floor(Math.random() * NUM_BOXES);
            
            for (let i = 0; i < NUM_BOXES; i++) {
                const box = document.createElement('div');
                box.className = 'box';
                box.textContent = 'üì¶';
                box.dataset.index = i;
                container.appendChild(box);
            }
        }
        
        async function startClassicalSearch() {
            if (isSearching) return;
            isSearching = true;
            resetDemo();
            
            document.getElementById('classicalBtn').disabled = true;
            document.getElementById('groverBtn').disabled = true;
            document.getElementById('status').textContent = 'Searching';
            
            const boxes = document.querySelectorAll('.box');
            let checks = 0;
            
            // Update steps
            updateSteps(['Initialize', 'Sequential Check', 'Target Found']);
            setActiveStep(1);
            
            for (let i = 0; i < NUM_BOXES; i++) {
                boxes[i].classList.add('checking');
                checks++;
                document.getElementById('checks').textContent = checks;
                
                await sleep(300);
                
                if (i === treasureBox) {
                    boxes[i].textContent = 'üíé';
                    boxes[i].classList.add('found');
                    boxes[i].classList.remove('checking');
                    setActiveStep(2);
                    document.getElementById('status').textContent = 'Complete';
                    break;
                } else {
                    boxes[i].classList.remove('checking');
                }
            }
            
            document.getElementById('classicalBtn').disabled = false;
            document.getElementById('groverBtn').disabled = false;
            isSearching = false;
        }
        
        async function startGroverSearch() {
            if (isSearching) return;
            isSearching = true;
            resetDemo();
            
            document.getElementById('classicalBtn').disabled = true;
            document.getElementById('groverBtn').disabled = true;
            document.getElementById('status').textContent = 'Processing';
            
            const boxes = document.querySelectorAll('.box');
            const iterations = Math.ceil(Math.PI / 4 * Math.sqrt(NUM_BOXES));
            let checks = 0;
            
            updateSteps(['Superposition', 'Amplify √ó' + iterations, 'Measure']);
            
            // Step 1: Superposition - flash all boxes
            setActiveStep(0);
            for (let i = 0; i < NUM_BOXES; i++) {
                boxes[i].classList.add('checking');
            }
            await sleep(800);
            for (let i = 0; i < NUM_BOXES; i++) {
                boxes[i].classList.remove('checking');
            }
            checks++;
            document.getElementById('checks').textContent = checks;
            
            // Step 2: Grover iterations
            setActiveStep(1);
            for (let iter = 0; iter < iterations; iter++) {
                // Flash all boxes to show quantum operation
                for (let i = 0; i < NUM_BOXES; i++) {
                    boxes[i].classList.add('checking');
                }
                await sleep(500);
                for (let i = 0; i < NUM_BOXES; i++) {
                    boxes[i].classList.remove('checking');
                }
                checks++;
                document.getElementById('checks').textContent = checks;
                await sleep(200);
            }
            
            // Step 3: Measurement
            setActiveStep(2);
            boxes[treasureBox].textContent = 'üíé';
            boxes[treasureBox].classList.add('found');
            document.getElementById('status').textContent = `Found (${checks} ops)`;
            
            document.getElementById('classicalBtn').disabled = false;
            document.getElementById('groverBtn').disabled = false;
            isSearching = false;
        }
        
        function resetDemo() {
            initializeBoxes();
            document.getElementById('checks').textContent = '0';
            document.getElementById('status').textContent = 'Ready';
            document.getElementById('stepIndicator').innerHTML = '';
        }
        
        function updateSteps(steps) {
            const container = document.getElementById('stepIndicator');
            container.innerHTML = '';
            steps.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.className = 'step';
                stepDiv.textContent = step;
                stepDiv.dataset.index = index;
                container.appendChild(stepDiv);
            });
        }
        
        function setActiveStep(index) {
            const steps = document.querySelectorAll('.step');
            steps.forEach((step, i) => {
                if (i === index) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }
        
        function checkAnswer(element, isCorrect) {
            if (element.classList.contains('correct') || element.classList.contains('incorrect')) {
                return;
            }
            
            if (isCorrect) {
                element.classList.add('correct');
                element.innerHTML += ' ‚úì Correct';
            } else {
                element.classList.add('incorrect');
                element.innerHTML += ' ‚úó Incorrect';
            }
        }
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // Initialize on load
        window.onload = function() {
            initializeBoxes();
        };
    </script>
</body>
</html>
